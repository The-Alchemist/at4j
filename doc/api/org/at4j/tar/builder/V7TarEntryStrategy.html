<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_09) on Tue Dec 04 17:03:38 CET 2012 -->
<title>V7TarEntryStrategy (AT4J version 1.1.2 Javadocs)</title>
<meta name="date" content="2012-12-04">
<meta name="keywords" content="org.at4j.tar.builder.V7TarEntryStrategy class">
<meta name="keywords" content="getTextEncodingCharset()">
<meta name="keywords" content="zeroPadLeft()">
<meta name="keywords" content="goToNextBlockBoundary()">
<meta name="keywords" content="getFileName()">
<meta name="keywords" content="setFileNameInHeader()">
<meta name="keywords" content="getHeader()">
<meta name="keywords" content="writeFileToArchive()">
<meta name="keywords" content="addChecksumToHeader()">
<meta name="keywords" content="writeFile()">
<meta name="keywords" content="writeFileFromStream()">
<meta name="keywords" content="writeDirectory()">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="V7TarEntryStrategy (AT4J version 1.1.2 Javadocs)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/at4j/tar/builder/UstarEntryStrategy.html" title="class in org.at4j.tar.builder"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/at4j/tar/builder/V7TarEntryStrategy.html" target="_top">Frames</a></li>
<li><a href="V7TarEntryStrategy.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.at4j.tar.builder</div>
<h2 title="Class V7TarEntryStrategy" class="title">Class V7TarEntryStrategy</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.at4j.tar.builder.V7TarEntryStrategy</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../org/at4j/tar/builder/TarEntryStrategy.html" title="interface in org.at4j.tar.builder">TarEntryStrategy</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../org/at4j/tar/builder/UstarEntryStrategy.html" title="class in org.at4j.tar.builder">UstarEntryStrategy</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">V7TarEntryStrategy</span>
extends <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../org/at4j/tar/builder/TarEntryStrategy.html" title="interface in org.at4j.tar.builder">TarEntryStrategy</a></pre>
<div class="block">This <a href="../../../../org/at4j/tar/builder/TarEntryStrategy.html" title="interface in org.at4j.tar.builder"><code>TarEntryStrategy</code></a> creates Tar entries conforming to the old Unix
 v7 format. The entries created by this strategy contain the following data:
 <table border="1">
 <tr>
 <th>Property</th>
 <th>Comment</th>
 </tr>
 <tr>
 <td>Absolute location of the entry</td>
 <td>Limited to 99 characters, excluding the initial slash.</td>
 </tr>
 <tr>
 <td><code>UnixEntityMode</code></td>
 <td>A Unix file permission mode such as <code>0644</code> or <code>0755</code>.</td>
 </tr>
 <tr>
 <td>Owner UID</td>
 <td>The user id of the owner of the file system entity that the Tar entry was
 created from. This may be a value between <code>0</code> and <code>2097151</code>
 (inclusive).</td>
 </tr>
 <tr>
 <td>Owner GID</td>
 <td>The group id of the group that owns the file system entity that the tar
 entry was created from. This may be a value between <code>0</code> and <code>2097151</code> (inclusive).</td>
 </tr>
 <tr>
 <td>File size</td>
 <td>For files, this is a value between <code>0</code> and <code>8589934591</code> bytes
 (~ 8.6 Gb), inclusive.</td>
 </tr>
 <tr>
 <td>Link name</td>
 <td>For symbolic links, this is the link target. Limited to 99 characters.</td>
 </tr>
 </table></div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>1.0</dd>
<dt><span class="strong">Author:</span></dt>
  <dd>Karl Gustafsson</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../org/at4j/tar/builder/V7TarEntryStrategy.html#V7TarEntryStrategy()">V7TarEntryStrategy</a></strong>()</code>
<div class="block">Create a new strategy object that will use the platform's default
 character encoding to encode text values in the Tar entries.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../org/at4j/tar/builder/V7TarEntryStrategy.html#V7TarEntryStrategy(java.nio.charset.Charset)">V7TarEntryStrategy</a></strong>(<a href="http://java.sun.com/javase/6/docs/api/java/nio/charset/Charset.html?is-external=true" title="class or interface in java.nio.charset">Charset</a>&nbsp;cs)</code>
<div class="block">Create a new strategy object that will use the supplied charset for
 encoding test values in the Tar entries.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../org/at4j/tar/builder/V7TarEntryStrategy.html#addChecksumToHeader(byte[])">addChecksumToHeader</a></strong>(byte[]&nbsp;header)</code>
<div class="block">Add the checksum field to the Tar entry header.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/at4j/tar/builder/V7TarEntryStrategy.html#getFileName(org.entityfs.el.AbsoluteLocation, boolean)">getFileName</a></strong>(org.entityfs.el.AbsoluteLocation&nbsp;location,
           boolean&nbsp;directory)</code>
<div class="block">Get the file name for the supplied location, discarding the path up to
 the file name.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../org/at4j/tar/builder/V7TarEntryStrategy.html#getHeader(java.lang.Object, java.lang.String, org.at4j.tar.builder.TarEntrySettings, long, org.entityfs.EntityType, java.util.Date)">getHeader</a></strong>(<a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;entity,
         <a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fileName,
         <a href="../../../../org/at4j/tar/builder/TarEntrySettings.html" title="class in org.at4j.tar.builder">TarEntrySettings</a>&nbsp;effectiveSettings,
         long&nbsp;fileSize,
         org.entityfs.EntityType&nbsp;entityType,
         <a href="http://java.sun.com/javase/6/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util">Date</a>&nbsp;lastModified)</code>
<div class="block">Create a Tar header for the new entry.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="http://java.sun.com/javase/6/docs/api/java/nio/charset/Charset.html?is-external=true" title="class or interface in java.nio.charset">Charset</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/at4j/tar/builder/V7TarEntryStrategy.html#getTextEncodingCharset()">getTextEncodingCharset</a></strong>()</code>
<div class="block">Get the charset that is used to encode text values in Tar entries.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/at4j/tar/builder/V7TarEntryStrategy.html#goToNextBlockBoundary(org.entityfs.DataSink, long)">goToNextBlockBoundary</a></strong>(org.entityfs.DataSink&nbsp;out,
                     long&nbsp;sizeOfDataWritten)</code>
<div class="block">Set the current position of the <code>DataSink</code> to be on the next tar
 block boundary after a writing operation.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/at4j/tar/builder/V7TarEntryStrategy.html#setFileNameInHeader(byte[], java.lang.String)">setFileNameInHeader</a></strong>(byte[]&nbsp;header,
                   <a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fileName)</code>
<div class="block">Set the file name field in the Tar entry header.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/at4j/tar/builder/V7TarEntryStrategy.html#writeDirectory(org.entityfs.DataSink, org.at4j.tar.builder.DirectoryAdapter, org.entityfs.el.AbsoluteLocation, org.at4j.tar.builder.TarEntrySettings, java.util.Date)">writeDirectory</a></strong>(org.entityfs.DataSink&nbsp;out,
              <a href="../../../../org/at4j/tar/builder/DirectoryAdapter.html" title="interface in org.at4j.tar.builder">DirectoryAdapter</a>&lt;?&gt;&nbsp;da,
              org.entityfs.el.AbsoluteLocation&nbsp;location,
              <a href="../../../../org/at4j/tar/builder/TarEntrySettings.html" title="class in org.at4j.tar.builder">TarEntrySettings</a>&nbsp;effectiveSettings,
              <a href="http://java.sun.com/javase/6/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util">Date</a>&nbsp;lastModified)</code>
<div class="block">Write a directory entry to the Tar file.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/at4j/tar/builder/V7TarEntryStrategy.html#writeFile(org.entityfs.DataSink, org.entityfs.ReadableFile, org.entityfs.el.AbsoluteLocation, org.at4j.tar.builder.TarEntrySettings, java.util.Date)">writeFile</a></strong>(org.entityfs.DataSink&nbsp;out,
         org.entityfs.ReadableFile&nbsp;f,
         org.entityfs.el.AbsoluteLocation&nbsp;location,
         <a href="../../../../org/at4j/tar/builder/TarEntrySettings.html" title="class in org.at4j.tar.builder">TarEntrySettings</a>&nbsp;effectiveSettings,
         <a href="http://java.sun.com/javase/6/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util">Date</a>&nbsp;lastModified)</code>
<div class="block">Write a file entry to the Tar file.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/at4j/tar/builder/V7TarEntryStrategy.html#writeFileFromStream(org.entityfs.RandomAccess, java.io.InputStream, org.entityfs.el.AbsoluteLocation, org.at4j.tar.builder.TarEntrySettings, java.util.Date)">writeFileFromStream</a></strong>(org.entityfs.RandomAccess&nbsp;out,
                   <a href="http://java.sun.com/javase/6/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a>&nbsp;is,
                   org.entityfs.el.AbsoluteLocation&nbsp;location,
                   <a href="../../../../org/at4j/tar/builder/TarEntrySettings.html" title="class in org.at4j.tar.builder">TarEntrySettings</a>&nbsp;effectiveSettings,
                   <a href="http://java.sun.com/javase/6/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util">Date</a>&nbsp;lastModified)</code>
<div class="block">Write a file entry containing all data that can be read from the stream
 to the Tar file.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/at4j/tar/builder/V7TarEntryStrategy.html#writeFileToArchive(org.entityfs.DataSink, org.entityfs.ReadableFile, org.at4j.tar.builder.TarEntrySettings)">writeFileToArchive</a></strong>(org.entityfs.DataSink&nbsp;out,
                  org.entityfs.ReadableFile&nbsp;f,
                  <a href="../../../../org/at4j/tar/builder/TarEntrySettings.html" title="class in org.at4j.tar.builder">TarEntrySettings</a>&nbsp;effectiveSettings)</code>
<div class="block">Write the contents of the supplied file to the archive.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../org/at4j/tar/builder/V7TarEntryStrategy.html#zeroPadLeft(java.lang.String, int)">zeroPadLeft</a></strong>(<a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;s,
           int&nbsp;size)</code>
<div class="block">Add zeroes to the left of the supplied string so that it will have the
 requested size, and then convert the string to bytes using the platform's
 default charset.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="V7TarEntryStrategy()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>V7TarEntryStrategy</h4>
<pre>public&nbsp;V7TarEntryStrategy()</pre>
<div class="block">Create a new strategy object that will use the platform's default
 character encoding to encode text values in the Tar entries.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../org/at4j/tar/builder/V7TarEntryStrategy.html#V7TarEntryStrategy(java.nio.charset.Charset)"><code>V7TarEntryStrategy(Charset)</code></a></dd></dl>
</li>
</ul>
<a name="V7TarEntryStrategy(java.nio.charset.Charset)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>V7TarEntryStrategy</h4>
<pre>public&nbsp;V7TarEntryStrategy(<a href="http://java.sun.com/javase/6/docs/api/java/nio/charset/Charset.html?is-external=true" title="class or interface in java.nio.charset">Charset</a>&nbsp;cs)</pre>
<div class="block">Create a new strategy object that will use the supplied charset for
 encoding test values in the Tar entries.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>cs</code> - The charset.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../org/at4j/tar/builder/V7TarEntryStrategy.html#V7TarEntryStrategy()"><code>V7TarEntryStrategy()</code></a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getTextEncodingCharset()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTextEncodingCharset</h4>
<pre>protected final&nbsp;<a href="http://java.sun.com/javase/6/docs/api/java/nio/charset/Charset.html?is-external=true" title="class or interface in java.nio.charset">Charset</a>&nbsp;getTextEncodingCharset()</pre>
<div class="block">Get the charset that is used to encode text values in Tar entries.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The charset that is used to encode text values in Tar entries.</dd></dl>
</li>
</ul>
<a name="zeroPadLeft(java.lang.String, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>zeroPadLeft</h4>
<pre>protected&nbsp;byte[]&nbsp;zeroPadLeft(<a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;s,
                 int&nbsp;size)</pre>
<div class="block">Add zeroes to the left of the supplied string so that it will have the
 requested size, and then convert the string to bytes using the platform's
 default charset. This should only be used for text containing characters
 that will occupy only one byte each.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>s</code> - The string to zero pad.</dd><dd><code>size</code> - The requested size of the returned array.</dd>
<dt><span class="strong">Returns:</span></dt><dd>An array of the requested size containing the supplied text
 padded with zeroes to the left.</dd></dl>
</li>
</ul>
<a name="goToNextBlockBoundary(org.entityfs.DataSink, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>goToNextBlockBoundary</h4>
<pre>protected&nbsp;void&nbsp;goToNextBlockBoundary(org.entityfs.DataSink&nbsp;out,
                         long&nbsp;sizeOfDataWritten)
                              throws org.entityfs.support.exception.WrappedIOException</pre>
<div class="block">Set the current position of the <code>DataSink</code> to be on the next tar
 block boundary after a writing operation. Tar blocks are 512 bytes big.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>out</code> - The <code>RandomAccess</code>.</dd><dd><code>sizeOfDataWritten</code> - The size of the data that was written. It is
 assumed that the write started on a block boundary.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>org.entityfs.support.exception.WrappedIOException</code> - On I/O errors.</dd></dl>
</li>
</ul>
<a name="getFileName(org.entityfs.el.AbsoluteLocation, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFileName</h4>
<pre>protected&nbsp;<a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getFileName(org.entityfs.el.AbsoluteLocation&nbsp;location,
                 boolean&nbsp;directory)</pre>
<div class="block">Get the file name for the supplied location, discarding the path up to
 the file name. If it is a directory, add a trailing slash.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>location</code> - The absolute location.</dd><dd><code>directory</code> - Should the file name be for a directory?</dd>
<dt><span class="strong">Returns:</span></dt><dd>The file name.</dd></dl>
</li>
</ul>
<a name="setFileNameInHeader(byte[], java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFileNameInHeader</h4>
<pre>protected&nbsp;void&nbsp;setFileNameInHeader(byte[]&nbsp;header,
                       <a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fileName)
                            throws <a href="../../../../org/at4j/archive/builder/ArchiveEntryAddException.html" title="class in org.at4j.archive.builder">ArchiveEntryAddException</a></pre>
<div class="block">Set the file name field in the Tar entry header. This implementation
 throws an <a href="../../../../org/at4j/archive/builder/ArchiveEntryAddException.html" title="class in org.at4j.archive.builder"><code>ArchiveEntryAddException</code></a> if the file name is longer
 than 99 bytes. Subclasses may override this method to implement a
 different behavior.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>header</code> - The header to add the file name to.</dd><dd><code>fileName</code> - The file name to add.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/at4j/archive/builder/ArchiveEntryAddException.html" title="class in org.at4j.archive.builder">ArchiveEntryAddException</a></code> - If the file name is longer than 99
 bytes.</dd></dl>
</li>
</ul>
<a name="getHeader(java.lang.Object, java.lang.String, org.at4j.tar.builder.TarEntrySettings, long, org.entityfs.EntityType, java.util.Date)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHeader</h4>
<pre>protected&nbsp;byte[]&nbsp;getHeader(<a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;entity,
               <a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fileName,
               <a href="../../../../org/at4j/tar/builder/TarEntrySettings.html" title="class in org.at4j.tar.builder">TarEntrySettings</a>&nbsp;effectiveSettings,
               long&nbsp;fileSize,
               org.entityfs.EntityType&nbsp;entityType,
               <a href="http://java.sun.com/javase/6/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util">Date</a>&nbsp;lastModified)
                    throws <a href="../../../../org/at4j/archive/builder/ArchiveEntryAddException.html" title="class in org.at4j.archive.builder">ArchiveEntryAddException</a></pre>
<div class="block">Create a Tar header for the new entry. The header is a 512 bytes long
 byte array that contains metadata about the file system entity (file,
 directory, ...) that the Tar entry was created from.
 <p>
 This implementation creates a Unix v7 header (of course). Subclasses may
 override this method to create other kinds of headers.
 <p>
 This method uses the <a href="../../../../org/at4j/tar/builder/V7TarEntryStrategy.html#setFileNameInHeader(byte[], java.lang.String)"><code>setFileNameInHeader(byte[], String)</code></a> method
 to set the file name.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>entity</code> - The entity that the Tar entry should represent. This may be
 a file, a directory or an <a href="http://java.sun.com/javase/6/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io"><code>InputStream</code></a>.</dd><dd><code>fileName</code> - The name of the entity.</dd><dd><code>effectiveSettings</code> - Effective settings for the entry.</dd><dd><code>fileSize</code> - If the entry is a file entry, this value contains the
 file size in bytes.</dd><dd><code>entityType</code> - The type of the entity being added.</dd><dd><code>lastModified</code> - When the entity was last modified.</dd>
<dt><span class="strong">Returns:</span></dt><dd>A 512 byte long array, without the checksum field filled in. The
 <a href="../../../../org/at4j/tar/builder/V7TarEntryStrategy.html#addChecksumToHeader(byte[])"><code>addChecksumToHeader(byte[])</code></a> method may be used to calculate the
 header's checksum when all data has been added to it.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/at4j/archive/builder/ArchiveEntryAddException.html" title="class in org.at4j.archive.builder">ArchiveEntryAddException</a></code> - If the entry cannot be created, for some
 reason.</dd></dl>
</li>
</ul>
<a name="writeFileToArchive(org.entityfs.DataSink, org.entityfs.ReadableFile, org.at4j.tar.builder.TarEntrySettings)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeFileToArchive</h4>
<pre>protected&nbsp;long&nbsp;writeFileToArchive(org.entityfs.DataSink&nbsp;out,
                      org.entityfs.ReadableFile&nbsp;f,
                      <a href="../../../../org/at4j/tar/builder/TarEntrySettings.html" title="class in org.at4j.tar.builder">TarEntrySettings</a>&nbsp;effectiveSettings)
                           throws org.entityfs.support.exception.WrappedIOException</pre>
<div class="block">Write the contents of the supplied file to the archive. This is used to
 write the file data for file entries.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>out</code> - The <code>RandomAccess</code> to write to. When this method is
 called, it should be positioned at the start of the first block of the
 file data (just after the file entry header). When this method returns,
 the <code>RandomAccess</code> is positioned just after the written data. (I.e:
 probably not at the next Tar block boundary). If this method throws an
 exception, the position of the <code>RandomAccess</code> is unspecified.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The size of the written file.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>org.entityfs.support.exception.WrappedIOException</code> - On I/O errors.</dd></dl>
</li>
</ul>
<a name="addChecksumToHeader(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addChecksumToHeader</h4>
<pre>protected&nbsp;byte[]&nbsp;addChecksumToHeader(byte[]&nbsp;header)</pre>
<div class="block">Add the checksum field to the Tar entry header. The checksum is the sum
 of all individual bytes in the header, with the checksum field itself
 taken to be all spaces.
 <p>
 This method should be called after all data has been added to the tar
 entry header.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>header</code> - The Tar entry header.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The Tar entry header. (The same byte array as <code>header</code>.)</dd></dl>
</li>
</ul>
<a name="writeFile(org.entityfs.DataSink, org.entityfs.ReadableFile, org.entityfs.el.AbsoluteLocation, org.at4j.tar.builder.TarEntrySettings, java.util.Date)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeFile</h4>
<pre>public&nbsp;void&nbsp;writeFile(org.entityfs.DataSink&nbsp;out,
             org.entityfs.ReadableFile&nbsp;f,
             org.entityfs.el.AbsoluteLocation&nbsp;location,
             <a href="../../../../org/at4j/tar/builder/TarEntrySettings.html" title="class in org.at4j.tar.builder">TarEntrySettings</a>&nbsp;effectiveSettings,
             <a href="http://java.sun.com/javase/6/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util">Date</a>&nbsp;lastModified)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../org/at4j/tar/builder/TarEntryStrategy.html#writeFile(org.entityfs.DataSink, org.entityfs.ReadableFile, org.entityfs.el.AbsoluteLocation, org.at4j.tar.builder.TarEntrySettings, java.util.Date)">TarEntryStrategy</a></code></strong></div>
<div class="block">Write a file entry to the Tar file.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/at4j/tar/builder/TarEntryStrategy.html#writeFile(org.entityfs.DataSink, org.entityfs.ReadableFile, org.entityfs.el.AbsoluteLocation, org.at4j.tar.builder.TarEntrySettings, java.util.Date)">writeFile</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/at4j/tar/builder/TarEntryStrategy.html" title="interface in org.at4j.tar.builder">TarEntryStrategy</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>out</code> - The <code>DataSink</code> to write to. This may be a
 <code>RandomAccess</code> object. When this method is called, the <code>DataSink</code> is positioned at the start of the entry to write. If this
 method returns successfully, the <code>DataSink</code> should be positioned at
 the next block boundary after the written entry (the Tar file is divided
 into 512-byte blocks).</dd><dd><code>f</code> - The file to add to the archive. If this file is in a locking
 <code>FileSystem</code>, it is locked for reading by the caller before this
 method is called.</dd><dd><code>location</code> - The absolute location of the entry in the Tar archive.</dd><dd><code>effectiveSettings</code> - The effective settings for the entry.</dd><dd><code>lastModified</code> - The time when the file entity was last modified.</dd></dl>
</li>
</ul>
<a name="writeFileFromStream(org.entityfs.RandomAccess, java.io.InputStream, org.entityfs.el.AbsoluteLocation, org.at4j.tar.builder.TarEntrySettings, java.util.Date)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeFileFromStream</h4>
<pre>public&nbsp;void&nbsp;writeFileFromStream(org.entityfs.RandomAccess&nbsp;out,
                       <a href="http://java.sun.com/javase/6/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a>&nbsp;is,
                       org.entityfs.el.AbsoluteLocation&nbsp;location,
                       <a href="../../../../org/at4j/tar/builder/TarEntrySettings.html" title="class in org.at4j.tar.builder">TarEntrySettings</a>&nbsp;effectiveSettings,
                       <a href="http://java.sun.com/javase/6/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util">Date</a>&nbsp;lastModified)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../org/at4j/tar/builder/TarEntryStrategy.html#writeFileFromStream(org.entityfs.RandomAccess, java.io.InputStream, org.entityfs.el.AbsoluteLocation, org.at4j.tar.builder.TarEntrySettings, java.util.Date)">TarEntryStrategy</a></code></strong></div>
<div class="block">Write a file entry containing all data that can be read from the stream
 to the Tar file.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/at4j/tar/builder/TarEntryStrategy.html#writeFileFromStream(org.entityfs.RandomAccess, java.io.InputStream, org.entityfs.el.AbsoluteLocation, org.at4j.tar.builder.TarEntrySettings, java.util.Date)">writeFileFromStream</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/at4j/tar/builder/TarEntryStrategy.html" title="interface in org.at4j.tar.builder">TarEntryStrategy</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>out</code> - The <code>RandomAccess</code> to write to. When this method is
 called, the <code>RandomAccess</code> is positioned at the start of the entry
 to write. If this method returns successfully, the <code>RandomAccess</code>
 should be positioned at the next block boundary after the written entry
 (the Tar file is divided into 512-byte blocks).</dd><dd><code>is</code> - The stream containing the file's data.</dd><dd><code>location</code> - The absolute location of the entry in the Tar archive.</dd><dd><code>effectiveSettings</code> - The effective settings for the entry.</dd><dd><code>lastModified</code> - The time when the file entity was last modified.</dd></dl>
</li>
</ul>
<a name="writeDirectory(org.entityfs.DataSink, org.at4j.tar.builder.DirectoryAdapter, org.entityfs.el.AbsoluteLocation, org.at4j.tar.builder.TarEntrySettings, java.util.Date)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>writeDirectory</h4>
<pre>public&nbsp;void&nbsp;writeDirectory(org.entityfs.DataSink&nbsp;out,
                  <a href="../../../../org/at4j/tar/builder/DirectoryAdapter.html" title="interface in org.at4j.tar.builder">DirectoryAdapter</a>&lt;?&gt;&nbsp;da,
                  org.entityfs.el.AbsoluteLocation&nbsp;location,
                  <a href="../../../../org/at4j/tar/builder/TarEntrySettings.html" title="class in org.at4j.tar.builder">TarEntrySettings</a>&nbsp;effectiveSettings,
                  <a href="http://java.sun.com/javase/6/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util">Date</a>&nbsp;lastModified)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../org/at4j/tar/builder/TarEntryStrategy.html#writeDirectory(org.entityfs.DataSink, org.at4j.tar.builder.DirectoryAdapter, org.entityfs.el.AbsoluteLocation, org.at4j.tar.builder.TarEntrySettings, java.util.Date)">TarEntryStrategy</a></code></strong></div>
<div class="block">Write a directory entry to the Tar file.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/at4j/tar/builder/TarEntryStrategy.html#writeDirectory(org.entityfs.DataSink, org.at4j.tar.builder.DirectoryAdapter, org.entityfs.el.AbsoluteLocation, org.at4j.tar.builder.TarEntrySettings, java.util.Date)">writeDirectory</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/at4j/tar/builder/TarEntryStrategy.html" title="interface in org.at4j.tar.builder">TarEntryStrategy</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>out</code> - The <code>DataSink</code> to write to. This may be a
 <code>RandomAccess</code> object. When this method is called, the <code>DataSink</code> is positioned at the start of the entry to write. If this
 method returns successfully, the <code>DataSink</code> should be positioned at
 the next block boundary after the written entry (the Tar file is divided
 into 512-byte blocks).</dd><dd><code>da</code> - The directory to add to the Tar file.</dd><dd><code>location</code> - The absolute location of the entry in the Tar archive.</dd><dd><code>effectiveSettings</code> - The effective settings for the entry.</dd><dd><code>lastModified</code> - The time when the directory entity was last modified.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/at4j/tar/builder/UstarEntryStrategy.html" title="class in org.at4j.tar.builder"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/at4j/tar/builder/V7TarEntryStrategy.html" target="_top">Frames</a></li>
<li><a href="V7TarEntryStrategy.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
