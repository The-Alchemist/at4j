<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><title>Chapter 5. gzip compression</title><link href="../at4j_doc-1.1.css" type="text/css" rel="stylesheet" /><meta content="DocBook XSL Stylesheets V1.77.1" name="generator" /><link rel="home" href="index.xhtml" title="At4J Programmer's Guide" /><link rel="up" href="index.xhtml" title="At4J Programmer's Guide" /><link rel="prev" href="ch04.xhtml" title="Chapter 4. bzip2 compression" /><link rel="next" href="ch06.xhtml" title="Chapter 6. LZMA compression" /></head><body><div class="navheader"><table summary="Navigation header" width="100%"><tr><th align="center" colspan="3">Chapter 5. gzip compression</th></tr><tr><td align="left" width="20%"><a accesskey="p" href="ch04.xhtml">Prev</a> </td><th align="center" width="60%"> </th><td align="right" width="20%"> <a accesskey="n" href="ch06.xhtml">Next</a></td></tr></table><hr /></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="chap_gzip" />Chapter 5. gzip compression</h1></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="ch05.xhtml#standalone_gzip_tools">Standalone gzip tools</a></span></dt></dl></div><p>gzip is a compression format that was created by Jean-Loup Gailly and
Mark Adler in the early nineties. See the
<a class="xref" href="bi01.xhtml#bib_wikipedia_article_on_gzip" title="Wikipedia article on gzip">Wikipedia article on gzip</a>.</p><p>gzip is supported through Java's <a class="apilink" title="java.util.zip.GZipOutputStream" href="http://java.sun.com/j2se/1.5.0/docs/api/index.html?java/util/zip/GZipOutputStream.html">GZipOutputStream</a> and
<a class="apilink" title="java.util.zip.GZipInputStream" href="http://java.sun.com/j2se/1.5.0/docs/api/index.html?java/util/zip/GZipInputStream.html">GZipInputStream</a>. They filter the data sent to or read from another
stream to compress it and decompress it, respectively.</p><p>EntityFS has with the <a class="apilink" title="org.entityfs.util.io.GZipReadableFile" href="http://entityfs.sourceforge.net/releases/current/api/index.html?org/entityfs/util/io/GZipReadableFile.html">GZipReadableFile</a> and
<a class="apilink" title="org.entityfs.util.io.GZipWritableFile" href="http://entityfs.sourceforge.net/releases/current/api/index.html?org/entityfs/util/io/GZipWritableFile.html">GZipWritableFile</a> classes. They can transparently
decompress data read from a file and compress data written to a
file.

</p><div class="example"><a id="ex_cad_gzip_w_rwf" /><p class="title"><strong>Example 5.1. Working with gzip using readable and writable gzip files</strong></p><div class="example-contents"><pre class="programlisting">// Data will be compressed to the <a class="apilink" title="java.io.File" href="http://java.sun.com/j2se/1.5.0/docs/api/index.html?java/io/File.html">File</a> f

String toCompress = "Compress me!";

// Wrap the <a class="apilink" title="java.io.File" href="http://java.sun.com/j2se/1.5.0/docs/api/index.html?java/io/File.html">File</a> in a <a class="apilink" title="org.entityfs.util.io.ReadWritableFileAdapter" href="http://entityfs.sourceforge.net/releases/current/api/index.html?org/entityfs/util/io/ReadWritableFileAdapter.html">ReadWritableFileAdapter</a> to make it a
// <a class="apilink" title="org.entityfs.ReadWritableFile" href="http://entityfs.sourceforge.net/releases/current/api/index.html?org/entityfs/ReadWritableFile.html">ReadWritableFile</a>
<a class="apilink" title="org.entityfs.ReadWritableFile" href="http://entityfs.sourceforge.net/releases/current/api/index.html?org/entityfs/ReadWritableFile.html">ReadWritableFile</a> fa = new <a class="apilink" title="org.entityfs.util.io.ReadWritableFileAdapter" href="http://entityfs.sourceforge.net/releases/current/api/index.html?org/entityfs/util/io/ReadWritableFileAdapter.html">ReadWritableFileAdapter</a>(f);

// Write the data using the EntityFS utility class <a class="apilink" title="org.entityfs.util.Files" href="http://entityfs.sourceforge.net/releases/current/api/index.html?org/entityfs/util/Files.html">Files</a> and a
// <a class="apilink" title="org.entityfs.util.io.GZipWritableFile" href="http://entityfs.sourceforge.net/releases/current/api/index.html?org/entityfs/util/io/GZipWritableFile.html">GZipWritableFile</a> with default compression settings.
<a class="apilink" title="org.entityfs.util.Files" href="http://entityfs.sourceforge.net/releases/current/api/index.html?org/entityfs/util/Files.html">Files</a>.writeText(new <a class="apilink" title="org.entityfs.util.io.GZipWritableFile" href="http://entityfs.sourceforge.net/releases/current/api/index.html?org/entityfs/util/io/GZipWritableFile.html">GZipWritableFile</a>(fa), toCompress);

// Read the data, again using <a class="apilink" title="org.entityfs.util.Files" href="http://entityfs.sourceforge.net/releases/current/api/index.html?org/entityfs/util/Files.html">Files</a>. The data is read from a
// <a class="apilink" title="org.entityfs.util.io.GZipReadableFile" href="http://entityfs.sourceforge.net/releases/current/api/index.html?org/entityfs/util/io/GZipReadableFile.html">GZipReadableFile</a>.
// This will print out "Compress me!"
System.out.println(
  <a class="apilink" title="org.entityfs.util.Files" href="http://entityfs.sourceforge.net/releases/current/api/index.html?org/entityfs/util/Files.html">Files</a>.readTextFile(
    new <a class="apilink" title="org.entityfs.util.io.GZipReadableFile" href="http://entityfs.sourceforge.net/releases/current/api/index.html?org/entityfs/util/io/GZipReadableFile.html">GZipReadableFile</a>(fa)));</pre></div></div><p><br class="example-break" /></p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="standalone_gzip_tools" />Standalone gzip tools</h2></div></div></div><p>The <a class="apilink" title="org.at4j.comp.gzip.prog.GZip" href="../api/index.html?org/at4j/comp/gzip/prog/GZip.html">GZip</a> and <a class="apilink" title="org.at4j.comp.gzip.prog.GUnzip" href="../api/index.html?org/at4j/comp/gzip/prog/GUnzip.html">GUnzip</a> classes have
runnable main methods that emulate the behavior of the
<code class="computeroutput">gzip</code> and <code class="computeroutput">gunzip</code>
commands. See their API documentation for details on how to use them.</p></div></div><div class="navfooter"><hr /><table summary="Navigation footer" width="100%"><tr><td align="left" width="40%"><a accesskey="p" href="ch04.xhtml">Prev</a> </td><td align="center" width="20%"> </td><td align="right" width="40%"> <a accesskey="n" href="ch06.xhtml">Next</a></td></tr><tr><td valign="top" align="left" width="40%">Chapter 4. bzip2 compression </td><td align="center" width="20%"><a accesskey="h" href="index.xhtml">Home</a></td><td valign="top" align="right" width="40%"> Chapter 6. LZMA compression</td></tr></table></div></body></html>