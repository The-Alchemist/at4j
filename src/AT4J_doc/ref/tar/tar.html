<html><head>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="StyleSheet" href="tar.4.asp_files/mksman.css">



<title>tar -- format of tar archives</title>
</head><body>
<div id="nsr">
<table cellpadding="0" cellspacing="0" width="100%">
<tbody><tr><td rowspan="2" align="left" valign="top">
<h1 class="header">
<nobr>tar</nobr>
<p class="header">format of tar archives&nbsp;</p>
</h1></td>
<td align="right" valign="top">
<h2 class="header">File Format</h2>
</td>
</tr>
<tr>
<td align="right" valign="top">
<form name="form">
<select name="site" size="1" onchange="formHandler()">
<option value="../man4/tar.4.asp#DESCRIPTION">DESCRIPTION</option>
<option value="../man4/tar.4.asp#PORTABILITY">PORTABILITY</option>
<option value="../man4/tar.4.asp#AVAILABILITY">AVAILABILITY</option>
<option value="../man4/tar.4.asp#SEE_ALSO">SEE ALSO</option>
</select>
</form>
</td>
</tr>
</tbody></table>
<script language="JavaScript">
<!-- Begin
function formHandler(){
var URL = document.form.site.options[document.form.site.selectedIndex].value;
location.href=URL;
// End -->
}
</script>
</div>
<div id="mainbody"><hr class="divider">
<h2><a name="DESCRIPTION">DESCRIPTION</a></h2>

<p class="firstline">
This document describes the format of archives read and written by the
<a href="http://www.mksxserver.com/docs/man1/tar.1.asp"><b><tt>tar</tt></b></a> utility, and by <a href="http://www.mksxserver.com/docs/man1/pax.1.asp"><b><tt>pax</tt></b></a> using the <b><tt><nobr>-xtar</nobr></tt></b> option.
MKS Toolkit's <a href="http://www.mksxserver.com/docs/man1/tar.1.asp"><b><tt>tar</tt></b></a> utility supports both the older UNIX-compatible
TAR
formats and the new USTAR format
defined in the POSIX (IEEE P1003.1) standard.
The new USTAR format allows more information to be stored and
supports longer file path names.
</p>
<p>
A <a href="http://www.mksxserver.com/docs/man1/tar.1.asp"><b><tt>tar</tt></b></a> archive, in either format,
consists of one or more blocks, which are used
to represent member files. Each block is 512 bytes long; the
<b><tt><nobr>-b</nobr></tt></b> option to <a href="http://www.mksxserver.com/docs/man1/tar.1.asp"><b><tt>tar</tt></b></a> can indicate how many
of these blocks are read and/or written at once.
</p>
<p>
Each member file consists of a header block (as described later in this
page) followed by 0 or more blocks containing the file contents.
The end of the archive is indicated by two blocks filled with binary
zeros.
Unused space in the header is left as binary zeros.
</p>
<p>
The header information in a block is stored in a printable
ASCII form, so that <a href="http://www.mksxserver.com/docs/man1/tar.1.asp"><b><tt>tar</tt></b></a> archives are easily ported to different
environments. If the contents of the files on the archive are all
ASCII, the entire archive is ASCII.
</p>
<p>
Table 1 shows the format of the header block for a file, in the
older UNIX-compatible
TAR
format.
</p>
<p>
</p><div align="center">
<table border="4" cellpadding="0" cellspacing="0" width="400">
<tbody><tr>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
<b>Field Width</b>
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
<b>Field Name</b>
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
<b>Meaning</b>
</td>
</tr>
<tr>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="3" valign="top">
<hr size="4">
</td>
</tr>
<tr>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
100
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
name
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
name of file
</td>
</tr>
<tr>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
8
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
mode
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
file mode
</td>
</tr>
<tr>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
8
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
uid
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
owner user ID
</td>
</tr>
<tr>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
8
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
gid
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
owner group ID
</td>
</tr>
<tr>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
12
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
size
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
length of file in bytes
</td>
</tr>
<tr>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
12
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
mtime
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
modify time of file
</td>
</tr>
<tr>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
8
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
chksum
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
checksum for header
</td>
</tr>
<tr>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
1
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
link
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
indicator for links
</td>
</tr>
<tr>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
100
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
linkname
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
name of linked file
</td>
</tr>
</tbody></table>
</div>
<p></p>
<center><p>
Table 1: <a href="http://www.mksxserver.com/docs/man1/tar.1.asp"><b><tt>tar</tt></b></a> Header Block (TAR Format)</p></center>
<p>
The
<i>link</i>
field is <tt>1</tt> for a linked file, <tt>2</tt> for a symbolic link,
and <tt>0</tt> otherwise.
A directory is indicated by a trailing slash (<tt>/</tt>) in its
<i>name</i>.
</p>
<p>
For the new USTAR format, headers take on the format shown in
Table 2.
Note that <a href="http://www.mksxserver.com/docs/man1/tar.1.asp"><b><tt>tar</tt></b></a> can determine that the USTAR format is
being used by the presence of the null-terminated string
"<tt>ustar</tt>" in the
<i>magic</i>
field.
All fields before the
<i>magic</i>
field correspond to those of the older format described earlier,
except that the
<i>typeflag</i>
replaces the
<i>link</i>
field.
</p>
<p>
</p><div align="center">
<table border="4" cellpadding="0" cellspacing="0" width="400">
<tbody><tr>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
<b>Field Width</b>
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
<b>Field Name</b>
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
<b>Meaning</b>
</td>
</tr>
<tr>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="3" valign="top">
<hr size="4">
</td>
</tr>
<tr>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
100
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
name
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
name of file
</td>
</tr>
<tr>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
8
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
mode
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
file mode
</td>
</tr>
<tr>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
8
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
uid
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
owner user ID
</td>
</tr>
<tr>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
8
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
gid
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
owner group ID
</td>
</tr>
<tr>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
12
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
size
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
length of file in bytes
</td>
</tr>
<tr>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
12
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
mtime
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
modify time of file
</td>
</tr>
<tr>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
8
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
chksum
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
checksum for header
</td>
</tr>
<tr>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
1
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
typeflag
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
type of file
</td>
</tr>
<tr>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
100
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
linkname
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
name of linked file
</td>
</tr>
<tr>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
6
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
magic
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
USTAR indicator
</td>
</tr>
<tr>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
2
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
version
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
USTAR version
</td>
</tr>
<tr>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
32
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
uname
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
owner user name
</td>
</tr>
<tr>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
32
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
gname
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
owner group name
</td>
</tr>
<tr>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
8
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
devmajor
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
device major number
</td>
</tr>
<tr>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
8
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
devminor
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
device minor number
</td>
</tr>
<tr>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
155
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
prefix
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
prefix for file name
</td>
</tr>
</tbody></table>
</div>
<p></p>
<center><p>
Table 2: <a href="http://www.mksxserver.com/docs/man1/tar.1.asp"><b><tt>tar</tt></b></a> Header Block (USTAR Format)</p></center>
<p>
This information is compatible with that returned by the UNIX
<a href="http://www.mksxserver.com/docs/man3/stat.3.asp"><tt><nobr>stat()</nobr></tt></a>
function; see also <a href="http://www.mksxserver.com/docs/man5/struct_stat.5.asp"><b><tt>stat</tt></b></a>.
The
<i>magic</i>,
<i>uname</i>,
and
<i>gname</i>
fields are null-terminated character strings.
The fields
<i>name</i>,
<i>linkname</i>,
and
<i>prefix</i>
are null-terminated unless the full field is used to store a name
(that is, the last character is not null).
All other fields are
zero-filled octal numbers, in ASCII.
Trailing nulls are present for these numbers, except for the
<i>size</i>,
<i>mtime</i>,
and
<i>version</i>
fields.
</p>
<p>
The
<i>name</i>
field contains the name of the archived file.
On USTAR format archives, the value of the
<i>prefix</i>
field, if non-null, is prefixed to the
<i>name</i>
field to allow names longer then 100 characters.
For compatibility with older <a href="http://www.mksxserver.com/docs/man1/tar.1.asp"><b><tt>tar</tt></b></a> commands,
the MKS Toolkit version of
<a href="http://www.mksxserver.com/docs/man1/tar.1.asp"><b><tt>tar</tt></b></a> leaves
<i>prefix</i>
null unless the file name exceeds 100 characters.
</p>
<p>
The
<i>size</i>
field is 0 if the header describes a link.
</p>
<p>
The
<i>chksum</i>
field is a checksum of all the bytes in the header, assuming that the
<i>chksum</i>
field itself is all blanks.
</p>
<p>
For USTAR, the
<i>typeflag</i>
field is a compatible extension of the
<i>link</i>
field of the older
TAR
format.
Table 3 shows the values that are recognized.
</p>
<p>
</p><div align="center">
<table border="4" cellpadding="0" cellspacing="0" width="375">
<tbody><tr>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
<b>Type Flag</b>
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
<b>File Type</b>
</td>
</tr>
<tr>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="2" valign="top">
<hr size="4">
</td>
</tr>
<tr>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
0 or null
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
Regular file
</td>
</tr>
<tr>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
1
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
Link to another file already archived
</td>
</tr>
<tr>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
2
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
Symbolic link
</td>
</tr>
<tr>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
3
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
Character special device
</td>
</tr>
<tr>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
4
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
Block special device
</td>
</tr>
<tr>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
5
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
Directory
</td>
</tr>
<tr>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
6
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
FIFO special file
</td>
</tr>
<tr>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
7
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
Reserved
</td>
</tr>
<tr>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
A-Z
</td>
<td bordercolor="#FFFFFFF" rowspan="1" colspan="1" align="left" valign="top" width="0%">
Available for custom usage
</td>
</tr>
</tbody></table>
</div>
<p></p>
<center><p>
Table 3: Type Flag Values for USTAR Format Files</p></center>
<p>
In USTAR format, the
<i>uname</i>
and
<i>gname</i>
fields contain the name of the owner and group of the file
respectively.
</p>

<hr class="divider">
<h2><a name="PORTABILITY">PORTABILITY</a></h2>

<p class="firstline">
<a href="http://www.mksxserver.com/docs/man1/tar.1.asp"><b><tt>tar</tt></b></a> archives are fully compatible between UNIX and Windows 
systems because all header information is represented in ASCII.
</p>
<p>
Because the NTFS file system has fewer features than that of UNIX systems,
much of the information stored in the archive is ignored.
</p>
<p>
The ASCII digit <tt>7</tt> is commonly used in the
<i>typeflag</i>
field to indicate contiguous files.
The use of <tt>2</tt> to indicate a symbolic link is particular to
some UNIX versions.
These common extensions are mentioned in the POSIX (IEEE P1003.1)
standard.
</p>

<hr class="divider">
<h2><a name="AVAILABILITY">AVAILABILITY</a></h2>

<p class="firstline">
MKS Toolkit for System Administrators<br>
MKS Toolkit for Developers<br>
MKS Toolkit for Interoperability<br>
MKS Toolkit for Professional Developers<br>
MKS Toolkit for Enterprise Developers<br>
MKS Toolkit for Enterprise Developers 64-Bit Edition<br>

</p>

<hr class="divider">
<h2><a name="SEE_ALSO">SEE ALSO</a></h2>
<p class="firstline">
</p><dl compact="yes">
<dt><b>Commands:</b></dt>
<dd><a href="http://www.mksxserver.com/docs/man1/cpio.1.asp"><b><tt>cpio</tt></b></a>, <a href="http://www.mksxserver.com/docs/man1/pax.1.asp"><b><tt>pax</tt></b></a>, <a href="http://www.mksxserver.com/docs/man1/tar.1.asp"><b><tt>tar</tt></b></a></dd>
</dl>
<p></p>
<p class="firstline">
</p><dl compact="yes">
<dt><b>File Formats:</b></dt>
<dd><a href="http://www.mksxserver.com/docs/man4/cpio.4.asp"><tt><b>cpio</b></tt></a></dd>
</dl>
<p></p>
<hr class="divider">
<center><p class="build">
MKS Toolkit 9.2 Documentation Build 16.
</p></center><br style="page-break-after: always;"></div></body></html>